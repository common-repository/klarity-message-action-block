!function(e){function t(r){if(n[r])return n[r].exports;var l=n[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var r=n(2),l=(n.n(r),n(3)),a=(n.n(l),wp.i18n.__),u=wp.blocks.registerBlockType,i=wp.editor.RichText,c=wp.element.createElement,m=c("svg",{width:128,height:128,viewBox:"0 0 128 128"},c("rect",{x:0,y:0,width:128,height:128,stroke:"white"}),c("path",{d:"M41.7607 39.0615H52.8432V60.866L73.2637 39.0615H86.6547L66.1434 60.2237L87.5885 88.9388H74.2753L58.66 67.706L52.8432 73.6982V88.9388H41.7607V39.0615Z",fill:"white"}));u("klarity/klarity-message-action-block",{title:a("Message action"),icon:m,category:"common",keywords:[a("Message action")],attributes:{messages:{type:"array"},receivers:{type:"array"},currentMessageEdit:{type:"string",default:""},currentReceiverNumberEdit:{type:"string",default:""},currentReceiverNameEdit:{type:"string",default:""},currentReceiverEmailEdit:{type:"string",default:""},currentEmailSubjectEdit:{type:"string",default:""},currentIntroEdit:{type:"string",default:""},currentOutroEdit:{type:"string",default:""}},edit:function(e){var t=e.attributes,n=t.messages,r=t.receivers,l=t.currentMessageEdit,a=t.currentReceiverNumberEdit,u=t.currentReceiverNameEdit,c=t.currentReceiverEmailEdit,m=t.currentIntroEdit,s=t.currentOutroEdit,o=t.currentEmailSubjectEdit,p=e.setAttributes,E=function(e){e.preventDefault(),n.push({message:l});var t=n.slice();p({messages:t}),p({currentMessageEdit:""})},w=function(e){event.preventDefault();var t=n.filter(function(t){return t.message!=e.message});p({messages:t})},d=function(e){e.preventDefault(),r.push({name:u,number:a,email:c});var t=r.slice();p({receivers:t}),p({currentReceiverNumberEdit:""}),p({currentReceiverNameEdit:""}),p({currentReceiverEmailEdit:""})},f=function(e){event.preventDefault();var t=r.filter(function(t){return!(t.number==e.number&&t.email==e.email)});p({receivers:t})},v=function(e,t){e.preventDefault();var n={};n[t]=e.target.value,p(n)};return n=n||[],r=r||[],wp.element.createElement("section",{class:"wp-block-klarity-message-action"},wp.element.createElement("p",null,"eMail Action: Create messages and make receivers available."),wp.element.createElement("div",{className:"form-group"},wp.element.createElement("h4",null,"Email Subject"),"Subject for Email: ",wp.element.createElement("input",{value:o,onChange:function(e){return v(e,"currentEmailSubjectEdit")}})," ",wp.element.createElement("br",null),wp.element.createElement("h4",null,"Message Introduction"),"Message introduction for email and WhatsApp:  ",wp.element.createElement("br",null),wp.element.createElement("div",{class:"text-input"},wp.element.createElement(i,{value:m,onChange:function(e){return p({currentIntroEdit:e})}})),wp.element.createElement("h4",null,"Arguments"),wp.element.createElement("ul",null,n.map(function(e){return wp.element.createElement("li",null,e.message,wp.element.createElement("button",{onClick:function(){return w(e)}},"Delete"),wp.element.createElement("hr",null))})),wp.element.createElement("form",null,wp.element.createElement("h5",null,"Add Argument"),wp.element.createElement("p",null,wp.element.createElement("textarea",{onChange:function(e){return v(e,"currentMessageEdit")},value:l},l)," ",wp.element.createElement("br",null),wp.element.createElement("button",{class:"btn waves-effect waves-light",type:"submit",name:"action",onClick:E},"Add New Message"))),wp.element.createElement("hr",null),wp.element.createElement("h4",null,"Closing"),"Closing message for email and whatsapp: ",wp.element.createElement("br",null),wp.element.createElement("div",{class:"text-input"},wp.element.createElement(i,{value:s,onChange:function(e){p({currentOutroEdit:e})}})),wp.element.createElement("hr",null),wp.element.createElement("h4",null,"Receivers"),wp.element.createElement("ul",null,r.map(function(e){return wp.element.createElement("li",null,wp.element.createElement("strong",null,"Display name:")," ",e.name,wp.element.createElement("br",null),wp.element.createElement("strong",null,"WhatsApp number:")," ",e.number,wp.element.createElement("br",null),wp.element.createElement("strong",null,"Email:")," ",e.email,wp.element.createElement("br",null),wp.element.createElement("button",{onClick:function(){return f(e)}},"Delete"),wp.element.createElement("hr",null))})),wp.element.createElement("form",null,wp.element.createElement("h5",null,"Add receiver"),wp.element.createElement("p",null,"Display name: (who is this action targeting?): ",wp.element.createElement("input",{value:u,onChange:function(e){return v(e,"currentReceiverNameEdit")}})," ",wp.element.createElement("br",null),"WhatsApp number: (will not be visible to the user) ",wp.element.createElement("input",{value:a,onChange:function(e){return v(e,"currentReceiverNumberEdit")}})," ",wp.element.createElement("br",null),"Email: (will not be visible to the user) ",wp.element.createElement("input",{type:"email",value:c,onChange:function(e){return v(e,"currentReceiverEmailEdit")}})," ",wp.element.createElement("br",null),wp.element.createElement("button",{class:"btn waves-effect waves-light",disabled:""==u||""==a&&""==c,type:"submit",name:"action",onClick:d},"Add New Receiver")))))},save:function(e){return null}})},function(e,t){},function(e,t){}]);